<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 第五周总结 | self-salvation</title>
  <link rel = 'canonical' href = 'https://jinkes-li.github.io/python/%E7%AC%AC%E4%BA%94%E5%91%A8%E6%80%BB%E7%BB%93/'>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="第五周总结" />
<meta property="og:description" content="第五周总结 正则表达式
第三方模块
python模块
正则表达式
正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为regex、regexp或RE），是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为&quot;元字符&quot;），是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串，通常被用来检索、替换那些符合某个模式（规则）的文本
正则表达式前夕 为什么需要使用正则表达式
1. 这里以京东的注册时需要输入手机号为例 # 1. 获取用户输入 usercode = input(&#39;请输入注册手机号： &#39;) # 2. 分析，手机号为11位，判断位数是否相等11 if len(usercode) == 11: # 3. 判断用户输入的是否为纯数字 if usercode.isdigit(): # 4. 继续分析，手机号一般有很多开头，这里演示188开头 if usercode.startswith(&#39;188&#39;): print(&#39;验证通过&#39;) else: print(&#39;请输入正确的手机号&#39;) else: print(&#39;请输入数字&#39;) else: print(&#39;请输入正确的手机号长度&#39;) # 代码执行结果，只有188开头的手机号码才可以通过注册 请输入注册手机号： 18800000000 验证通过 2. 第一种方式太过于麻烦，接下来使用正则表达式来写 import re # python中使用正则的模块，稍后介绍 user_code = inpot(&#39;请输入手机号&#39;).strip() if re.match(&#39;^188[0-9]{8}$&#39;, user_code) print(&#39;合法的手机号&#39;) else: print(&#39;非法的手机号&#39;) # 代码执行结果 请输入手机号： 18000000000 合法的手机号 字符组 字符组内所有的数据默认都是或的关系 字符组默认匹配规则是一个一个匹配 [0123456789] 匹配0~9任意一个数 [0-9] 匹配0到9任意一个数(缩写) [a-z] 匹配26个小写英文字母 [A-Z] 匹配26个大写英文字母 [0-9a-zA-Z] 匹配数字或者小写字母或者大写字母 特殊符号 特殊符号默认匹配方式是挨个匹配" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jinkes-li.github.io/python/%E7%AC%AC%E4%BA%94%E5%91%A8%E6%80%BB%E7%BB%93/" /><meta property="article:section" content="python" />
<meta property="article:published_time" content="2022-10-30T18:57:24+08:00" />
<meta property="article:modified_time" content="2022-10-30T18:57:24+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="第五周总结"/>
<meta name="twitter:description" content="第五周总结 正则表达式
第三方模块
python模块
正则表达式
正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为regex、regexp或RE），是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为&quot;元字符&quot;），是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串，通常被用来检索、替换那些符合某个模式（规则）的文本
正则表达式前夕 为什么需要使用正则表达式
1. 这里以京东的注册时需要输入手机号为例 # 1. 获取用户输入 usercode = input(&#39;请输入注册手机号： &#39;) # 2. 分析，手机号为11位，判断位数是否相等11 if len(usercode) == 11: # 3. 判断用户输入的是否为纯数字 if usercode.isdigit(): # 4. 继续分析，手机号一般有很多开头，这里演示188开头 if usercode.startswith(&#39;188&#39;): print(&#39;验证通过&#39;) else: print(&#39;请输入正确的手机号&#39;) else: print(&#39;请输入数字&#39;) else: print(&#39;请输入正确的手机号长度&#39;) # 代码执行结果，只有188开头的手机号码才可以通过注册 请输入注册手机号： 18800000000 验证通过 2. 第一种方式太过于麻烦，接下来使用正则表达式来写 import re # python中使用正则的模块，稍后介绍 user_code = inpot(&#39;请输入手机号&#39;).strip() if re.match(&#39;^188[0-9]{8}$&#39;, user_code) print(&#39;合法的手机号&#39;) else: print(&#39;非法的手机号&#39;) # 代码执行结果 请输入手机号： 18000000000 合法的手机号 字符组 字符组内所有的数据默认都是或的关系 字符组默认匹配规则是一个一个匹配 [0123456789] 匹配0~9任意一个数 [0-9] 匹配0到9任意一个数(缩写) [a-z] 匹配26个小写英文字母 [A-Z] 匹配26个大写英文字母 [0-9a-zA-Z] 匹配数字或者小写字母或者大写字母 特殊符号 特殊符号默认匹配方式是挨个匹配"/>

  
  
    
  
  
  <link rel="stylesheet" href="https://jinkes-li.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://jinkes-li.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://jinkes-li.github.io/">
  
    <div id="logo" style="background-image: url(https://jinkes-li.github.io/images/logo.png)"></div>
  
  <div id="title">
    <h1>self-salvation</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#" aria-label="Menu"><i class="fas fa-bars fa-2x" aria-hidden="true"></i></a>
      </li>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/posts/">All posts</a></li>
      
        <li><a href="/tags">Tags</a></li>
      
        <li><a href="/python">Python</a></li>
      
        <li><a href="/about">About</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <h3 id="第五周总结">第五周总结</h3>
<ul>
<li>
<p>正则表达式</p>
</li>
<li>
<p>第三方模块</p>
</li>
<li>
<p>python模块</p>
</li>
<li>
<p>正则表达式</p>
</li>
</ul>
<blockquote>
<p>正则表达式，又称规则表达式,（Regular Expression，在代码中常简写为regex、regexp或RE），是一种文本模式，包括普通字符（例如，a 到 z 之间的字母）和特殊字符（称为&quot;元字符&quot;），是计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列匹配某个句法规则的字符串，通常被用来检索、替换那些符合某个模式（规则）的文本</p>
</blockquote>
<ul>
<li>正则表达式前夕</li>
</ul>
<blockquote>
<p>为什么需要使用正则表达式</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 这里以京东的注册时需要输入手机号为例
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. 获取用户输入</span>
</span></span><span style="display:flex;"><span>usercode <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#39;请输入注册手机号： &#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. 分析，手机号为11位，判断位数是否相等11</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> len(usercode) <span style="color:#f92672">==</span> <span style="color:#ae81ff">11</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 3. 判断用户输入的是否为纯数字</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> usercode<span style="color:#f92672">.</span>isdigit():
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 4. 继续分析，手机号一般有很多开头，这里演示188开头</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> usercode<span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;188&#39;</span>):
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#39;验证通过&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#39;请输入正确的手机号&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;请输入数字&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;请输入正确的手机号长度&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 代码执行结果，只有188开头的手机号码才可以通过注册</span>
</span></span><span style="display:flex;"><span>请输入注册手机号<span style="color:#960050;background-color:#1e0010">：</span> <span style="color:#ae81ff">18800000000</span>
</span></span><span style="display:flex;"><span>验证通过
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2.</span> 第一种方式太过于麻烦<span style="color:#960050;background-color:#1e0010">，</span>接下来使用正则表达式来写
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> re  <span style="color:#75715e"># python中使用正则的模块，稍后介绍</span>
</span></span><span style="display:flex;"><span>user_code <span style="color:#f92672">=</span> inpot(<span style="color:#e6db74">&#39;请输入手机号&#39;</span>)<span style="color:#f92672">.</span>strip()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">&#39;^188[0-9]</span><span style="color:#e6db74">{8}</span><span style="color:#e6db74">$&#39;</span>, user_code)
</span></span><span style="display:flex;"><span>	print(<span style="color:#e6db74">&#39;合法的手机号&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>	print(<span style="color:#e6db74">&#39;非法的手机号&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 代码执行结果</span>
</span></span><span style="display:flex;"><span>请输入手机号<span style="color:#960050;background-color:#1e0010">：</span> <span style="color:#ae81ff">18000000000</span>
</span></span><span style="display:flex;"><span>合法的手机号
</span></span></code></pre></div><ul>
<li>字符组</li>
</ul>
<blockquote>
<ol>
<li>字符组内所有的数据默认都是或的关系</li>
<li>字符组默认匹配规则是一个一个匹配</li>
</ol>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">0123456789</span>]  匹配0<span style="color:#f92672">~</span><span style="color:#ae81ff">9</span>任意一个数
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]         匹配0到9任意一个数(缩写)
</span></span><span style="display:flex;"><span>[a<span style="color:#f92672">-</span>z]         匹配26个小写英文字母
</span></span><span style="display:flex;"><span>[A<span style="color:#f92672">-</span>Z]         匹配26个大写英文字母
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>a<span style="color:#f92672">-</span>zA<span style="color:#f92672">-</span>Z]   匹配数字或者小写字母或者大写字母
</span></span></code></pre></div><ul>
<li>特殊符号</li>
</ul>
<blockquote>
<p>特殊符号默认匹配方式是挨个匹配</p>
</blockquote>
<table>
<thead>
<tr>
<th>正则符号</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>匹配除换行符以外的任意字符</td>
</tr>
<tr>
<td>\w</td>
<td>匹配数字，字母，下划线</td>
</tr>
<tr>
<td>\W</td>
<td>匹配非数字，非字母，非下划线</td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串的开头</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串的结尾</td>
</tr>
<tr>
<td>|</td>
<td>或的意思，类似于or，比如a|b，匹配a或者b</td>
</tr>
<tr>
<td>()</td>
<td>给正则表达式分组，不影响表达式的匹配功能</td>
</tr>
<tr>
<td>[]</td>
<td>字符组内部填写的内容默认都是或的关系</td>
</tr>
<tr>
<td>[^]</td>
<td>取反操作 匹配除了字符组里面的其他所有字符</td>
</tr>
</tbody>
</table>
<ul>
<li>量词</li>
</ul>
<blockquote>
<p>正则表达式默认情况下都是贪婪匹配
量词必须结合表达式一起使用，不能单独出现，并且只影响左边第一个表达式
例如： Wesley\d{3}  只影响\d</p>
</blockquote>
<ul>
<li>贪婪匹配和非贪婪匹配</li>
</ul>
<blockquote>
<p>所有的量词都是贪婪匹配，如果需要更改为非贪婪匹配，只需要在量词好哦吗加上问号即可</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 待匹配文本
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>script<span style="color:#f92672">&gt;</span>wesley(<span style="color:#ae81ff">123</span>)<span style="color:#f92672">&lt;/</span>script<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>使用正则的贪婪匹配
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;.*&gt;</span>
</span></span><span style="display:flex;"><span>匹配的内容为所有内容<span style="color:#960050;background-color:#1e0010">，</span>并且为一条数据
</span></span><span style="display:flex;"><span>使用非贪婪匹配
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;.*</span><span style="color:#960050;background-color:#1e0010">?</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>匹配内容为2条内容<span style="color:#960050;background-color:#1e0010">，</span>如下
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>script<span style="color:#f92672">&gt;</span> <span style="color:#f92672">&lt;/</span>script<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><ul>
<li>python正则模块re</li>
</ul>
<blockquote>
<p>re模块时python中使用正则的模块，接下来看一下模块如何使用</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;java append as&#39;</span>)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># findall  是指查找所有的数据</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结果按照匹配到的结果以列表返回</span>
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res<span style="color:#f92672">.</span>finditer(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;java append as&#39;</span>)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># finditer 会返回为迭代器对象</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结果，直接返回的是一个迭代器对象</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>callable_iterator object at <span style="color:#ae81ff">0x104694910</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;java append as&#39;</span>)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># search返回的结果，可以适应group查看</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>re<span style="color:#f92672">.</span>Match object; span<span style="color:#f92672">=</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>), match<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group())
</span></span><span style="display:flex;"><span><span style="color:#75715e"># group匹配到第一个就直接结束</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;java append as&#39;</span>)
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># match 会匹配开头，若没有匹配，直接返回为None</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果经常使用同样的正则可以封装为模版,使用 compile</span>
</span></span><span style="display:flex;"><span>ojb <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">&#39;\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>res1 <span style="color:#f92672">=</span> ojb<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;123123u02913701294&#39;</span>)
</span></span><span style="display:flex;"><span>res2 <span style="color:#f92672">=</span> ojb<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;j31l2k3jl12jl3k12jlk3j1l2j312312&#39;</span>)
</span></span><span style="display:flex;"><span>print(res1, res2)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结果</span>
</span></span><span style="display:flex;"><span>[<span style="color:#e6db74">&#39;123&#39;</span>, <span style="color:#e6db74">&#39;123&#39;</span>, <span style="color:#e6db74">&#39;029&#39;</span>, <span style="color:#e6db74">&#39;137&#39;</span>, <span style="color:#e6db74">&#39;012&#39;</span>] [<span style="color:#e6db74">&#39;312&#39;</span>, <span style="color:#e6db74">&#39;312&#39;</span>]
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;[ab]&#39;</span>, <span style="color:#e6db74">&#39;abcd&#39;</span>) 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 先按&#39;a&#39;分割得到&#39;&#39;和&#39;bcd&#39;,再对&#39;&#39;和&#39;bcd&#39;分别按&#39;b&#39;分割</span>
</span></span><span style="display:flex;"><span>print(res) <span style="color:#75715e"># [&#39;&#39;, &#39;&#39;, &#39;cd&#39;]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;\d&#39;</span>, <span style="color:#e6db74">&#39;H&#39;</span>, <span style="color:#e6db74">&#39;eva3jason4yuan5&#39;</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将数字替换成&#39;H&#39;，参数1表示只替换1个</span>
</span></span><span style="display:flex;"><span>print(res)  <span style="color:#75715e"># evaHjason4yuan5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>subn(<span style="color:#e6db74">&#39;\d&#39;</span>, <span style="color:#e6db74">&#39;H&#39;</span>, <span style="color:#e6db74">&#39;eva3jason4yuan5&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将数字替换成H，返回元组(替换的结果，替换了多少次)</span>
</span></span><span style="display:flex;"><span>print(res)  <span style="color:#75715e"># (&#39;evaHjasonHyuanH&#39;, 3)</span>
</span></span></code></pre></div><ul>
<li>re模块分组优先</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 分组优先
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;www.(baidu|google).com&#39;</span>) , www<span style="color:#f92672">.</span>baidu<span style="color:#f92672">.</span>com
</span></span><span style="display:flex;"><span>print(res) <span style="color:#75715e"># [&#39;baidu&#39;]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># findall分组优先展示：优先展示括号内正则表达式匹配的内容</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以使用?:的方式取消这种优先展示</span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;www.(?:baidu|google).com&#39;</span>, <span style="color:#e6db74">&#39;www.baidu.com&#39;</span>)
</span></span><span style="display:flex;"><span>print(res)  <span style="color:#75715e"># [&#39;www.baidu.com&#39;]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2.</span> res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;www.(baidu|google).com&#39;</span>, <span style="color:#e6db74">&#39;www.baidu.com&#39;</span>)
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group()) <span style="color:#75715e"># www.baidu.com</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3.</span> res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">&#39;www.(baidu|google).com&#39;</span>, <span style="color:#e6db74">&#39;www.baidu.com&#39;</span>)
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group()) <span style="color:#75715e"># www.baidu.com</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2.</span> 分组别名
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 可以通过分组和分组名还有索引来取值
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">&#39;www.(?P&lt;content&gt;baidu|google)(?P&lt;hei&gt;.com)&#39;</span>, <span style="color:#e6db74">&#39;www.baidu.com&#39;</span>)
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group())  <span style="color:#75715e"># www.baidu.com</span>
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group(<span style="color:#e6db74">&#39;content&#39;</span>)) <span style="color:#75715e"># baidu</span>
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">0</span>)) <span style="color:#75715e"># www.oldboy.com</span>
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># .com</span>
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>group(hei)) <span style="color:#75715e"># .com</span>
</span></span></code></pre></div><ul>
<li>python第三方模块</li>
</ul>
<blockquote>
<p>第三方模块指的是其他开发者已经写好的模块，一般情况下功能都是非常强大的
需要注意，第三方模块需要安装可以使用pip install 模块名 在命令行中安装
一般在安装时经常会出现，网络问题和版本太低问题，自行百度</p>
</blockquote>
<ul>
<li>requests模块基本使用</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># php3 install requests</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 朝制定网址发送请求页面的数据，相当于我们在浏览器上访问</span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;http://www.redbull.com.cn/about/branch&#39;</span>)
</span></span><span style="display:flex;"><span>print(res<span style="color:#f92672">.</span>text)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">1. 这里使用text 拿到的是文本数据，默认会按照utf8编码.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">也可以使用res.encoding = &#39;utf8&#39;来指定编码
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">2. 若使用content打印，获取的是bytes类型的网页数据
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 在请求头内将自己伪装成浏览器
</span></span><span style="display:flex;"><span>headers <span style="color:#960050;background-color:#1e0010">：</span>使用user<span style="color:#f92672">-</span>Agent
</span></span></code></pre></div><ul>
<li>openpyxl模块</li>
</ul>
<blockquote>
<p>主要用于操作Excel,主要是写数据比较方便，比如pandas模块就是封装了此模块 但是需要注意的是openpyxl是最近几年比较火的模块相对于03版本之前的excel后缀兼容很差</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> openpyxl <span style="color:#f92672">import</span> Workbook
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建一个excel文件</span>
</span></span><span style="display:flex;"><span>wb <span style="color:#f92672">=</span> Workbook()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在一个excel文件中创建多个工作簿</span>
</span></span><span style="display:flex;"><span>wb1 <span style="color:#f92672">=</span> wb<span style="color:#f92672">.</span>create_sheet(<span style="color:#e6db74">&#39;富婆名单&#39;</span>)
</span></span><span style="display:flex;"><span>wb2 <span style="color:#f92672">=</span> wb<span style="color:#f92672">.</span>create_sheet(<span style="color:#e6db74">&#39;高富帅名单&#39;</span>)
</span></span><span style="display:flex;"><span>wb3 <span style="color:#f92672">=</span> wb<span style="color:#f92672">.</span>create_sheet(<span style="color:#e6db74">&#39;海王名单&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以更具索引修改工作簿sheet的位置</span>
</span></span><span style="display:flex;"><span>web <span style="color:#f92672">=</span> web<span style="color:#f92672">.</span>create_sheet(<span style="color:#e6db74">&#39;海王名单&#39;</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以二次修改工作簿名称</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;高富帅名单&#39;</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>sheet_properties<span style="color:#f92672">.</span>tabColor <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1072BA&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">——————————————————————</span>数据的填写<span style="color:#960050;background-color:#1e0010">——————————————————————</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 填写数据的方式1</span>
</span></span><span style="display:flex;"><span>wb4[<span style="color:#e6db74">&#39;F4&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">666</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 填写数据的方式2</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>call(row<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, calue<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;wesley&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 填写数据的方式3</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>append([<span style="color:#e6db74">&#39;编号&#39;</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#e6db74">&#39;姓名&#39;</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#e6db74">&#39;年龄&#39;</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#e6db74">&#39;爱好&#39;</span>])  <span style="color:#75715e"># 表头字段</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>append([<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;jason&#39;</span>, <span style="color:#e6db74">&#39;18&#39;</span>, <span style="color:#e6db74">&#39;read&#39;</span>])
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>append([<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;wesley&#39;</span>, <span style="color:#e6db74">&#39;18&#39;</span>, <span style="color:#e6db74">&#39;music&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">——————————————————————</span>填写数据公式<span style="color:#960050;background-color:#1e0010">——————————————————————</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>cell(row<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,value<span style="color:#f92672">=</span><span style="color:#ae81ff">123</span>)
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>cell(row<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,value<span style="color:#f92672">=</span><span style="color:#ae81ff">321</span>)
</span></span><span style="display:flex;"><span>wb4[<span style="color:#e6db74">&#39;A5&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;=sum(A1:A4)&#39;</span>
</span></span><span style="display:flex;"><span>wb4<span style="color:#f92672">.</span>cell(row<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, value<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;=sum(A1:A4)&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 保存excel文件</span>
</span></span><span style="display:flex;"><span>wb<span style="color:#f92672">.</span>save(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;wesley_test.xlsx&#39;</span>)
</span></span></code></pre></div><ul>
<li>hashlib加密模块</li>
</ul>
<ol>
<li>
<p>什么是加密
将明文数据处理成密文数据，确保其他人无法直接得到原本的信息</p>
</li>
<li>
<p>为什么加密
保证数据的安全性，防止软件或文件被篡改</p>
</li>
<li>
<p>如何判断数据是否加密
加密后的数据一般都是各种字符的组合，无法是被直接看懂的</p>
</li>
<li>
<p>密文的长短
密文越长表示使用的加密算法越复杂</p>
</li>
<li>
<p>基本的加密算法
md5, bash64, hmac, sha系列</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 加密算法的基本操作</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 选择需要使用的加密算法，比如下面使用的是md5</span>
</span></span><span style="display:flex;"><span>md5 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>md5()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用update传入明文数据，可以分段传输也可以单次传输</span>
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;hello&#39;</span>) <span style="color:#75715e"># 需要传入二进制数据</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获得数据加密后的MD5值</span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> md5<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(res)  <span style="color:#75715e"># 5d41402abc4b2a76b9719d911017c592</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> 加密算法不变<span style="color:#960050;background-color:#1e0010">，</span>内容不变<span style="color:#960050;background-color:#1e0010">，</span>结果也相同
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span>md5 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>md5()
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;wesley&#39;</span>)
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> md5<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 加密后的值</span>
</span></span><span style="display:flex;"><span>a09f91f8be77e65b371a64bf1d8305c9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 刚刚提到了多次的分段传入也是没有问题的，下列代码演示</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>md5 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>md5()
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;we&#39;</span>)
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;sl&#39;</span>)
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;ey&#39;</span>)
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> md5<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 加密后的值</span>
</span></span><span style="display:flex;"><span>a09f91f8be77e65b371a64bf1d8305c9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 刚刚提到了多次的分段传入也是没有问题的，下列代码演示</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>md5 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>md5()
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;we&#39;</span>)
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;sl&#39;</span>)
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;ey&#39;</span>)
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> md5<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(res)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 加密后的值</span>
</span></span><span style="display:flex;"><span>a09f91f8be77e65b371a64bf1d8305c9
</span></span></code></pre></div><ol start="2">
<li>
<p>加密之后的结果是无法反解密的
只能从明文到密文正向推导，无法从密文到明文反向推导，这里就和加密算法的不可逆加密过程相关</p>
</li>
<li>
<p>在加密的中可能遇到数据完全一样的情况，这种加密如何处理？</p>
</li>
</ol>
<ul>
<li>加盐处理: 在明文数据中添加一些额外的干扰项</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span>md5 <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>md5()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">&#39;干扰项&#39;</span><span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;utf8&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>md5<span style="color:#f92672">.</span>update(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;wesley&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> md5<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(res)
</span></span></code></pre></div><ol start="4">
<li>动态加盐</li>
</ol>
<blockquote>
<p>干扰项是随机变化的，比如获取当前的时间，或者用户输入的部分信息</p>
</blockquote>
<ul>
<li>subprocess模块</li>
</ul>
<blockquote>
<p>模拟操作系统终端，执行命令并返回</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> subprocess
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> subprocess<span style="color:#f92672">.</span>Popen(
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#39;ls -l&#39;</span>, <span style="color:#75715e"># 操作系统执行的命令</span>
</span></span><span style="display:flex;"><span>		shell<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>		stdin<span style="color:#f92672">=</span>sunprocess<span style="color:#f92672">.</span>PIPE <span style="color:#75715e"># 输入命令</span>
</span></span><span style="display:flex;"><span>		stdout<span style="color:#f92672">=</span>Subprocess<span style="color:#f92672">.</span>PIPE <span style="color:#75715e"># 输出结果</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;正确结果&#39;</span>, res<span style="color:#f92672">.</span>stdout<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>decode(<span style="color:#e6db74">&#39;gbk&#39;</span>))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取操作系统执行命名之后正确的结果</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;错误结果&#39;</span>, res<span style="color:#f92672">.</span>stderr) <span style="color:#75715e"># 获取操作系统执行命名之后的错误结果</span>
</span></span></code></pre></div><ul>
<li>logging日志模块
<a href="https://cloud.tencent.com/developer/article/1587902">腾讯开发者日志分享</a></li>
</ul>
<ol>
<li>日志几乎是每一款软件都必备的记录历史信息行为</li>
<li>日志的级别</li>
</ol>
<ul>
<li>debug : 一般在开发阶段使用的最多</li>
<li>info： 项目上线后使用居多</li>
<li>warning： 偶尔出现一些异常时出现</li>
<li>error： 严重错误，需要立马解决，影响代码的正常执行</li>
<li>critical：致命错误，程序基本凉凉</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># logging.debug(&#39;debug message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.info(&#39;info message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.warning(&#39;warning message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.error(&#39;error message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.critical(&#39;critical message&#39;)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.debug(&#39;debug message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.info(&#39;info message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.warning(&#39;warning message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.error(&#39;error message&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logging.critical(&#39;critical message&#39;)</span>
</span></span><span style="display:flex;"><span>file_handler <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>FileHandler(filename<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x1.log&#39;</span>, mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf8&#39;</span>,)
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>basicConfig(
</span></span><span style="display:flex;"><span>    format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74"> -</span><span style="color:#e6db74">%(module)s</span><span style="color:#e6db74">:  </span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>,
</span></span><span style="display:flex;"><span>    datefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S %p&#39;</span>,
</span></span><span style="display:flex;"><span>    handlers<span style="color:#f92672">=</span>[file_handler,],
</span></span><span style="display:flex;"><span>    level<span style="color:#f92672">=</span>logging<span style="color:#f92672">.</span>ERROR
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#39;你好&#39;</span>)
</span></span></code></pre></div><ul>
<li>日志的组成</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.</span>产生日志
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2.</span>过滤日志
</span></span><span style="display:flex;"><span>	基本不用 因为在日志产生阶段就可以控制想要的日志内容 
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3.</span>输出日志
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4.</span>日志格式
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1.日志的产生(准备原材料)        logger对象</span>
</span></span><span style="display:flex;"><span>logger <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>getLogger(<span style="color:#e6db74">&#39;购物车记录&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2.日志的过滤(剔除不良品)        filter对象&gt;&gt;&gt;:可以忽略 不用使用</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3.日志的产出(成品)             handler对象</span>
</span></span><span style="display:flex;"><span>hd1 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>FileHandler(<span style="color:#e6db74">&#39;a1.log&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)  <span style="color:#75715e"># 输出到文件中</span>
</span></span><span style="display:flex;"><span>hd2 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>FileHandler(<span style="color:#e6db74">&#39;a2.log&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)  <span style="color:#75715e"># 输出到文件中</span>
</span></span><span style="display:flex;"><span>hd3 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>StreamHandler()  <span style="color:#75715e"># 输出到终端</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4.日志的格式(包装)             format对象</span>
</span></span><span style="display:flex;"><span>fm1 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>Formatter(
</span></span><span style="display:flex;"><span>        fmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74"> -</span><span style="color:#e6db74">%(module)s</span><span style="color:#e6db74">:  </span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>,
</span></span><span style="display:flex;"><span>        datefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S %p&#39;</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>fm2 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>Formatter(
</span></span><span style="display:flex;"><span>        fmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74">:  </span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>,
</span></span><span style="display:flex;"><span>        datefmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 5.给logger对象绑定handler对象</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>addHandler(hd1)
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>addHandler(hd2)
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>addHandler(hd3)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 6.给handler绑定formmate对象</span>
</span></span><span style="display:flex;"><span>hd1<span style="color:#f92672">.</span>setFormatter(fm1)
</span></span><span style="display:flex;"><span>hd2<span style="color:#f92672">.</span>setFormatter(fm2)
</span></span><span style="display:flex;"><span>hd3<span style="color:#f92672">.</span>setFormatter(fm1)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 7.设置日志等级</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>setLevel(<span style="color:#ae81ff">10</span>)  <span style="color:#75715e"># debug</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 8.记录日志</span>
</span></span><span style="display:flex;"><span>logger<span style="color:#f92672">.</span>debug(<span style="color:#e6db74">&#39;写了半天 好累啊 好热啊&#39;</span>)
</span></span></code></pre></div><ul>
<li>配置日志字典</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> logging.config
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义日志输出格式 开始</span>
</span></span><span style="display:flex;"><span>standard_format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74">][</span><span style="color:#e6db74">%(threadName)s</span><span style="color:#e6db74">:</span><span style="color:#e6db74">%(thread)d</span><span style="color:#e6db74">][task_id:</span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74">][</span><span style="color:#e6db74">%(filename)s</span><span style="color:#e6db74">:</span><span style="color:#e6db74">%(lineno)d</span><span style="color:#e6db74">]&#39;</span> \
</span></span><span style="display:flex;"><span>                  <span style="color:#e6db74">&#39;[</span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74">][</span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">]&#39;</span>  <span style="color:#75715e"># 其中name为getlogger指定的名字</span>
</span></span><span style="display:flex;"><span>simple_format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[</span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74">][</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74">][</span><span style="color:#e6db74">%(filename)s</span><span style="color:#e6db74">:</span><span style="color:#e6db74">%(lineno)d</span><span style="color:#e6db74">]</span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 自定义文件路径</span>
</span></span><span style="display:flex;"><span>logfile_path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a3.log&#39;</span>
</span></span><span style="display:flex;"><span>LOGGING_DIC <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;version&#39;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;disable_existing_loggers&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;formatters&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;standard&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;format&#39;</span>: standard_format
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;simple&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;format&#39;</span>: simple_format
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;filters&#39;</span>: {},  <span style="color:#75715e"># 过滤日志</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;handlers&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 打印到终端的日志</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;console&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;level&#39;</span>: <span style="color:#e6db74">&#39;DEBUG&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;class&#39;</span>: <span style="color:#e6db74">&#39;logging.StreamHandler&#39;</span>,  <span style="color:#75715e"># 打印到屏幕</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;formatter&#39;</span>: <span style="color:#e6db74">&#39;simple&#39;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 打印到文件的日志,收集info及以上的日志</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;default&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;level&#39;</span>: <span style="color:#e6db74">&#39;DEBUG&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;class&#39;</span>: <span style="color:#e6db74">&#39;logging.handlers.RotatingFileHandler&#39;</span>,  <span style="color:#75715e"># 保存到文件</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;formatter&#39;</span>: <span style="color:#e6db74">&#39;standard&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;filename&#39;</span>: logfile_path,  <span style="color:#75715e"># 日志文件</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;maxBytes&#39;</span>: <span style="color:#ae81ff">1024</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1024</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">5</span>,  <span style="color:#75715e"># 日志大小 5M</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;backupCount&#39;</span>: <span style="color:#ae81ff">5</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;encoding&#39;</span>: <span style="color:#e6db74">&#39;utf-8&#39;</span>,  <span style="color:#75715e"># 日志文件的编码，再也不用担心中文log乱码了</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;loggers&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># logging.getLogger(__name__)拿到的logger配置</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;handlers&#39;</span>: [<span style="color:#e6db74">&#39;default&#39;</span>, <span style="color:#e6db74">&#39;console&#39;</span>],  <span style="color:#75715e"># 这里把上面定义的两个handler都加上，即log数据既写入文件又打印到屏幕</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;level&#39;</span>: <span style="color:#e6db74">&#39;DEBUG&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;propagate&#39;</span>: <span style="color:#66d9ef">True</span>,  <span style="color:#75715e"># 向上（更高level的logger）传递</span>
</span></span><span style="display:flex;"><span>        },  <span style="color:#75715e"># 当键不存在的情况下 (key设为空字符串)默认都会使用该k:v配置</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#39;购物车记录&#39;: {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#     &#39;handlers&#39;: [&#39;default&#39;,&#39;console&#39;],  # 这里把上面定义的两个handler都加上，即log数据既写入文件又打印到屏幕</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#     &#39;level&#39;: &#39;WARNING&#39;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#     &#39;propagate&#39;: True,  # 向上（更高level的logger）传递</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># },  # 当键不存在的情况下 (key设为空字符串)默认都会使用该k:v配置</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>dictConfig(LOGGING_DIC)  <span style="color:#75715e"># 自动加载字典中的配置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logger1 = logging.getLogger(&#39;购物车记录&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logger1.warning(&#39;尊敬的VIP客户 晚上好 您又来啦&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logger1 = logging.getLogger(&#39;注册记录&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># logger1.debug(&#39;jason注册成功&#39;)</span>
</span></span><span style="display:flex;"><span>logger1 <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>getLogger(<span style="color:#e6db74">&#39;红浪漫顾客消费记录&#39;</span>)
</span></span><span style="display:flex;"><span>logger1<span style="color:#f92672">.</span>debug(<span style="color:#e6db74">&#39;慢男 猛男 骚男&#39;</span>)
</span></span></code></pre></div>
  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  self-salvation 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts/">All posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/python">Python</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>
